# Progress: ralph-speckit

## Original Goal

Create a new Claude Code plugin called `ralph-speckit` that follows the patterns of `ralph-specum` but uses GitHub's [spec-kit](https://github.com/github/spec-kit) methodology as its foundation.

The plugin will implement:
- Constitution-first approach (project-level governing principles)
- Specify phase (WHAT + WHY, not HOW)
- Plan phase (technical implementation with research)
- Tasks phase (actionable breakdown organized by user story)
- Implement phase (task-by-task execution with stop-handler)

Key differentiators from ralph-specum:
- Constitution as project-level persistent memory
- Feature IDs with numeric prefix (001-feature-name)
- Optional clarify/analyze phases
- .speckit/ directory structure

## Reference Document

See `RALPH-SPECKIT-PLAN.md` in repository root for comprehensive implementation plan.

## Phase: Requirements (Complete)

Requirements phase completed. See `requirements.md` for full specification.

## Completed Tasks

- [x] Research phase - analyzed GitHub spec-kit methodology and ralph-specum codebase
- [x] Requirements phase - defined 9 user stories with 40 acceptance criteria, 14 functional requirements, 7 NFRs

## Current Task

Awaiting design phase

## Learnings

- Spec-kit introduces "constitution" as project-level persistent memory - this is fundamentally different from ralph-specum's per-spec approach
- Spec-kit inverts the "code is king" paradigm - specifications become the source of truth that generates implementation
- Six core principles from spec-kit: Specifications as Lingua Franca, Executable Specifications, Continuous Refinement, Research-Driven Context, Bidirectional Feedback, Branching for Exploration
- Stop-handler.sh is the core of the task loop - needs path adaptation from `./specs/` to `.speckit/specs/`
- Feature IDs with numeric prefixes (001, 002) require auto-increment logic in start.md
- The delegation principle is critical: commands coordinate, agents implement - this must be preserved
- All agents follow consistent pattern: frontmatter, system prompt, "When Invoked" workflow, "Append Learnings", "Final Step: Set Awaiting Approval"
- No build step required - plugin changes take effect on Claude Code restart
- spec-kit embeds research in the plan phase rather than having a dedicated research phase
- Optional phases (clarify, analyze, checklist) add flexibility without breaking the core workflow
- Requirements phase insight: User stories naturally map to spec-kit's "organize tasks by user story" pattern, enabling end-to-end traceability
- The 9 user stories cover: governance (US-1), specify (US-2), plan (US-3), tasks (US-4), implement (US-5), workflow (US-6), progress (US-7), clarify (US-8), analyze (US-9)
- Traceability annotations (_Spec: FR-X, AC-X.X_ and _Plan: Component_) are critical for maintaining connection between intent and implementation
- NFRs focus on reliability metrics (0% corruption, 100% schema compliance) since the plugin must work reliably in autonomous mode
- Risk of "spec creep" into implementation details requires explicit template validation and agent prompt guidance
- Open questions from research were resolved: constitution uses guidance (not enforcement), simple numeric IDs, no quick mode initially

## Blockers

(none)

## Next Steps

1. ~~Complete research phase~~ DONE
2. ~~Generate requirements~~ DONE
3. Create technical design
4. Generate tasks
5. Execute implementation
